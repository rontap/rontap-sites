<HTML>

<HEAD>
    <meta name="author" content="Team Autism" />
    <meta name="description" content="Graph Editor based on Mathematical Modell"/>
    <meta name="keywords" content="RTS NXT Graph Generator">
    <link rel="icon" href="../NXTJS/icons/graphisoft.png" type="image/png">
    <!--importing essential data structures-->
    <script src="./node.class.js"></script>
    <script src="./graph.class.js"></script>
    <script src="../NXTJS/jsplus.js"></script>

    <title>Graphisoft Graph Drawer</title>
</HEAD>

<BODY class="module-sidebar" onkeydown="handleKeys(event)" onclick="deSelectRender(event)">
<holder>
    <h1 class="">Graphisoft</h1>
    <group>
      <button real flat onclick="store.undo()"><i class="material-icons">undo</i></button>
      <button real flat onclick="store.redo()"><i class="material-icons">redo</i></button>
    </group>
    <group>
      <button real flat onclick="exportIt.showModal();"><i class="material-icons" >unarchive</i>&nbsp; Export</button>
      <button real flat  style="border-left:1px solid #333" onclick="importIt.showModal();"><i class="material-icons" >archive</i>&nbsp; Import</button>

    </group>


    <button real flat style="vertical-align:6px;margin-left:10px;" onclick="convertIt.showModal();"><i class="material-icons" >swap_horizontal_circle</i>&nbsp; Convert Graph</button>

    <button real flat style="vertical-align:6px;margin-left:10px;" err onclick="store.flush(true)"><i class="material-icons" >clear</i>&nbsp; Clear All</button>

    <button real flat id="statusHolder" disabled>...</button>
</holder>
<dialog nxt id="convertIt">

  <h1 class="covered">Convert using Graph Algorithms</h1>
  <br>
  <radio name="pol">Disjktra</radio><br>
  <radio name="pol">Prims</radio><br>
  <radio name="pol">Something</radio><br>
  <radio name="pol">Else</radio><br>
  <action color class="indigo-500">
    <button onclick="convertIt.close();" default>HELP</button>
    <button flr  onclick="convertIt.close();">CONVERT</button>
    <button flr  warn onclick="convertIt.close();">EXIT</button>
  </action>
</dialog>
<dialog nxt id="exportIt" >

  <h1 class="covered">Export As:</h1>

  Select a Source for your Export:<br><br>
  <radio name="imp" checked="true">As Save File</radio><br>
  <radio name="imp" >As CSV File</radio><br>
  <radio name="imp" checked="true">As PNG Image </radio>
  <radio name="imp" checked="true">As JPG Image </radio>

  <br>
  <action color class="blue-500">
    <button flr onclick="exportIt.close();store.export();">EXPORT</button>
    <button   warn onclick="exportIt.close();">CLOSE</button>
  </action>
</dialog>

<dialog nxt id="importIt" >

  <h1 class="covered">Import Node</h1>
  <br>
  Select a Source for your Import or Export:<br><br>
  <radio name="imp" checked="true">File</radio><br>
  <action color class="orange-500">
    <button onclick="importIt.close();store.import();" default>IMPORT</button>
    <button flr  warn onclick="importIt.close();">CLOSE</button>
  </action>
</dialog>

<span id="canvHolder">
  <canvas id="canvBg" ></canvas>
  <canvas id="canvOverlay"></canvas>
  <canvas id="canv" onmousedown="render('click',event)"
                    onmouseup="render('up',event)" onmousemove="render('down',event)"></canvas>
</span>



<div module="sidebar" id="sidebarProp" onmouseup="this.classList.add('open');">
  <h2 style="margin-top:10px">Properties</h2>
  <i id="sidebarPropDrag" class="material-icons" style="" dragger>drag_indicator</i>
  <i id="lineClose" class="material-icons" onclick="minimiseFactory(this.parentElement.id)" closer>vertical_align_bottom</i>
  <div id="properties"></div>
</div>

  <group module="action" id="action" style="margin-left:0px">
  <button real flat onclick="switchMode('Place')" data-text="Add or Modify Nodes and Links">
    <i class="material-icons" >touch_app</i>
  </button>
  <button real flat onclick="switchMode('Move')" data-text="Move Field">
    <i class="material-icons" >control_camera</i>
  </button>
  <button real flat onclick="switchMode('Search')" data-text="Routes and Subgraphs">
    <i class="material-icons" >outlined_flag</i>
  </button>
  <button real flat onclick="switchMode('Place')" data-text="???">
    <i class="material-icons" >border_inner</i>
  </button>
  <i class="material-icons" dragger id="actionDrag">drag_indicator</i>
</group>


<div module="sidebar" id="line" onmouseup="this.classList.add('open');" style="height:270px">
  <h2 style="margin-top:10px" >Line </h2>
  <i id="lineDrag" class="material-icons" style="margin-left:218px" dragger>drag_indicator</i>
  <i id="lineClose" class="material-icons" onclick="minimiseFactory(this.parentElement.id)" closer>vertical_align_bottom</i>
  <div id="linkProperties">
    <div id="linkRef" style="margin-top:-15px">&nbsp;</div>
    Line Weight:
    <br>

    <input type="range" nxt value="10" max="50" min="0" id="rangeLP" onchange="sidebar.updateLineWidth(this.value)"/>
    <input id="textLP"type="number" nxt value='10'  onchange="sidebar.updateLineWidth(this.value)"/><span> </span><br><br>
    <switch checked="true"><span>Bidirectional</span><span>Directed</span></switch><br>
    <br>
    <button nxt onclick="sidebar.removeCurrLine();" style="margin-left:6px">Delete Connection</button>
  </div>
</div>


<div module="sidebar" id="distance"style="width:350px;"  onclick="this.classList.add('open','on')">
    <h2 style="margin-top:10px">Measure Distance</h2>
      <i id="distanceDrag" class="material-icons" style="margin-left:320px" dragger>drag_indicator</i>
    Measure Distance Between Two Nodes<br>
    <i>Drag and Drop from a Node to another.</i>
</div>

<div module="sidebar" id="textStyle" style="width:280px;height:380px;"onmouseup="this.classList.add('open');">
  <h2 style="margin-top:10px">Text Style</h2>
  <i id="textStyleDrag" class="material-icons" style="" dragger>drag_indicator</i>
  <i id="lineClose" class="material-icons" onclick="minimiseFactory(this.parentElement.id)" closer>vertical_align_bottom</i><br>
  Node Text Styling (set text in Node properties)<br><br>
  <div id="">
  <span class="elem">
    <span>Font Size</span>
    <input double type="range" nxt="" value="10" max="50" min="0"  onchange="sidebar.updateLineWidth(this.value)">
    <input  double type="number"  value="10" onchange="sidebar.updateLineWidth(this.value)">
  </span>
  <span class="elem">
    <span>Rotation</span>
    <input double type="range" nxt="" value="10" max="50" min="0"  onchange="sidebar.updateLineWidth(this.value)">
    <input  double type="number"  value="10" onchange="sidebar.updateLineWidth(this.value)">
  </span>


    <span class="elem">
      <span>Font Color</span>
      <input real flat type="color">
    </span>
  </div>
</div>

<div module="sidebar" id="viewer"  onmouseup="this.classList.add('on')" style="height:400px">
    <h2 style="margin-top:10px">View and<br> highlighting</h2>
    <i id="viewerDrag" class="material-icons" style="" dragger>drag_indicator</i>
    <i id="viewerClose" class="material-icons" onclick="minimiseFactory(this.parentElement.id)" closer>vertical_align_bottom</i>

    <span class="elem">
      <span>Node Colors:</span>
      <select real flat onchange="updateSelMode(this.value)">
      <option value="Subgraph" default>Subgraphs</option>
      <option value="NodeWeight">Node Weight</option>
      <option value="NodeConnection">Node Connections</option>
      <option value="Random">Random Coloring</option>
      <option value="NoColoring">No Coloring</option>
    </select>
  </span>

  <span class="elem">
    <span>Connection weight:</span>
    <select real flat onchange="updateConnectionMode(this.value)" class="elem"  >
      <option value="Manual" default>Manual Weight</option>
      <option value="ConnectionWeight">Calculate From Distance</option>

    </select>
  </span>
    <span class="elem">
      <span>Node Weight:</span>
      <select real flat onchange="updateNodeConnectionMode(this.value)" class="elem"  >
        <option value="Manual" default>Manual Weight</option>
        <option value="ConnectionWeight">Calculate From Connections</option>

      </select>
  </span>
  <span class="elem">
    <span>Background Color</span>
    <input real flat type="color" onchange="canvBgColor=this.value;render(null,{which:3})" value="#ffffff">
  </span>
</div>


</div>
<footer id="docFooter">
  <div id="footerBarHolder"></div>


  <div id="shortcutHelp">Click to add a new Node</div>
</footer>

</BODY>
   <script src="../NXTJS/material-colors.js"></script>
   <script src="../NXTJS/history.class.js"></script>


   <script src="./main.js"></script>
   <script src="./window.js"></script>
   <script src="./render.js"></script>
   <script src="./sidebar.js"></script>
   <script src="./keyboard.js"></script>
   <script src="./dnd.js"></script>

   <link rel="stylesheet" href="../NXTJS/design.css">
   <link rel="stylesheet" href="../NXTJS/elements.css">
   <link rel="stylesheet" href="../NXTJS/input.css">
   <link rel="stylesheet" href="../projectx/xfiles-ui.css">
   <link rel="stylesheet" href="main.css">

      <script src="../NXTJS/design-input.js"></script>

      <script>

      localStorage[''+NAME+VERSION+'MainStorage'] !== undefined ? store.load() : store.init();

</script>
</HTML>
